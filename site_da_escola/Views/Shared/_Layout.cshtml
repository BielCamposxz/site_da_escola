@using site_da_escola.Helper
@inject ISessao _sessao

@{
    var usuario = _sessao.BuscarSessaoDoUsuario();
}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
</head>

<body class="bg-light">

    @if (TempData["MensagemSucesso"] != null)
    {
        <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1055;">
            <div class="toast show toast-shor" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <strong class="me-auto">Parabens!</strong>
                    <small>Agora</small>
                    <button type="button" class="btn-close" aria-label="Fechar"></button>
                </div>
                <div class="toast-body">
                    @TempData["MensagemSucesso"]
                </div>
            </div>
        </div>
    }
    @if (TempData["MensagemErro"] != null)
    {
        <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1055;">
            <div class="toast show toast-shor" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <strong class="me-auto">Ops, algo deu errado!</strong>
                    <small>Agora</small>
                    <button type="button" class="btn-close" aria-label="Fechar"></button>
                </div>
                <div class="toast-body">
                    @TempData["MensagemErro"]
                </div>
            </div>
        </div>
    }

    <header class="position-relative">
        <div class="hero-header d-flex flex-column justify-content-center align-items-center text-center text-white">
            <div class="hero-overlay"></div>
            <div class="hero-content position-relative">
                <h1 class="fw-bold display-5 mb-2 animate__animated animate__fadeInDown">
                    Prof. Claudionor Ribeiro
                </h1>
                <p class="lead mb-0 animate__animated animate__fadeInUp">
                    As novidades da nossa comunidade escolar
                </p>
            </div>
        </div>

        <nav class="navbar navbar-expand bg-primary-gradient shadow-sm py-3">
            <div class="container d-flex justify-content-between align-items-center flex-wrap">

                <div class="navbar-collapse d-flex justify-content-center">
                    <ul class="navbar-nav d-flex flex-row gap-4 mb-0">
                        <li class="nav-item">
                            <a class="nav-link text-white fw-semibold hover-underline" asp-action="Index" asp-controller="Home">Início</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white fw-semibold hover-underline" asp-action="Index" asp-controller="Eventos">Eventos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white fw-semibold hover-underline" asp-action="Index" asp-controller="Noticias">Notícias</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white fw-semibold hover-underline" asp-action="Index" asp-controller="Galeria">Galeria de fotos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white fw-semibold hover-underline" asp-action="Index" asp-controller="Sobre">Sobre a Escola</a>
                        </li>
                    </ul>
                </div>

                
                

                @if(usuario != null && usuario.IsAdmin == true)
                {
                    <div class="d-flex">
                        <form asp-controller="Home" asp-action="Sair" method="post" class="mb-0">
                            <button type="submit" class="btn btn-light text-primary fw-semibold px-3 py-1 rounded-pill">
                                <i class="bi bi-box-arrow-right me-1"></i> Sair
                            </button>
                        </form>
                    </div>

                    <a asp-action="Index" asp-controller="AdminPage" class="admin-btn" title="Ir para o Admin">
                        <i class="bi bi-speedometer2"></i>
                    </a>
                }

                @if(usuario != null && usuario.IsAdmin == false)
                {
                    <div class="d-flex">
                        <form asp-controller="Home" asp-action="Sair" method="post" class="mb-0">
                            <button type="submit" class="btn btn-light text-primary fw-semibold px-3 py-1 rounded-pill">
                                <i class="bi bi-box-arrow-right me-1"></i> Sair
                            </button>
                        </form>
                    </div>

      
                }

                

            </div>
        </nav>

    </header>

 



    <div class="container my-5 animate__animated animate__fadeInUp">
        <main role="main" class="pb-5 mb-5">
            @RenderBody()
        </main>
    </div>

    <footer class="bg-primary text-white text-center py-5 shadow-lg">
        <div class="container">
            <h4 class="fw-bold mb-3">Entre em Contato</h4>
            <p class="mb-1"><i class="bi bi-telephone-fill me-2"></i>Telefone: (28) 3522-0395</p>
            <p class="mb-3">
                <i class="bi bi-envelope-fill me-2"></i>
                <a href="escolaclaudionor@sedu.es.gov.br" class="text-white text-decoration-none">escolaclaudionor@sedu.es.gov.br</a>
            </p>
            <div class="d-flex justify-content-center gap-4 fs-4 mb-3">
                <a href="https://www.instagram.com/profclaudionorribeiro/?igsh=dTM4aWNsdTlqdGV0#" target="_blank" class="text-white"><i class="bi bi-instagram"></i></a>
                <a href="https://www.facebook.com/SeduES/photos/escola-estadual-claudionor-ribeiro/1686944688005623/" target="_blank" class="text-white"><i class="bi bi-facebook"></i></a>
            </div>
            <small class="d-block">&copy; 2025 E.E.E.F.M. Prof. Claudionor Ribeiro — Developed by Gabriel C.</small>
        </div>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
